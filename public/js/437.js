"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[437],{437:(t,e,r)=>{r.r(e),r.d(e,{default:()=>V});var s=r(821),o={class:"container"},a={class:"row justify-content-center"},n={class:"col-12"},i={class:"card"},c={class:"card-header d-flex justify-content-between align-items-center"},u=(0,s.Uk)(" Productos "),l={class:"col-auto"},d=(0,s._)("option",{value:"",selected:"",disabled:""}," Filtrar por categoria ",-1),g=(0,s._)("option",{value:""}," Todas ",-1),f=["ke","value"],p={class:"col-auto"},m=(0,s._)("option",{value:"",selected:"",disabled:""}," Filtrar por sub categoria ",-1),v=(0,s._)("option",{value:""}," Todas ",-1),h=["ke","value"],w={class:"card-body"},y=(0,s.Uk)(" Cargando... "),b={key:0,class:"row"},k={class:"media d-block text-center text-sm-left"},_={class:"cart-item-thumb mx-auto mr-sm-4",href:"#"},C=["src"],x={class:"media-body pt-3"},D={class:"product-card-title font-weight-semibold border-0 pb-0"},z={class:"font-size-sm"},P=(0,s._)("span",{class:"text-muted mr-2"},"Slug: ",-1),U={class:"font-size-sm"},H=(0,s._)("span",{class:"text-muted mr-2"},"Descripcion: ",-1),S={class:"font-size-sm"},Y=(0,s._)("span",{class:"text-muted mr-2"},"Categoria: ",-1),K={class:"font-size-lg text-primary pt-2"},j=(0,s.Uk)(" No hay datos :( ");var q=r(757),F=r.n(q);function M(t,e,r,s,o,a,n){try{var i=t[a](n),c=i.value}catch(t){return void r(t)}i.done?e(c):Promise.resolve(c).then(s,o)}function N(t){return function(){var e=this,r=arguments;return new Promise((function(s,o){var a=t.apply(e,r);function n(t){M(a,s,o,n,i,"next",t)}function i(t){M(a,s,o,n,i,"throw",t)}n(void 0)}))}}const T={name:"ProductsComponents",data:function(){return{products:[],category:"",subCategory:"",categories:[],subCategories:[],processing:!0}},mounted:function(){this.getCategories(),this.getProducts()},methods:{getProducts:function(){var t=this;return N(F().mark((function e(){var r,s;return F().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.category?t.category:null,t.subCategory?r=t.subCategory:t.category,s=r?"/api/products?category=".concat(r):"/api/products",t.processing=!0,e.next=6,axios.get(s).then((function(e){var r=e.data;t.products=r})).catch((function(t){var e=t.response.data;alert(e.errors)})).finally((function(){t.processing=!1}));case 6:case"end":return e.stop()}}),e)})))()},getCategories:function(){var t=this;return N(F().mark((function e(){return F().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,axios.get("/api/categories").then((function(e){var r=e.data;t.categories=r})).catch((function(e){var r=e.response.data;t.errors.push(r.errors)}));case 2:case"end":return e.stop()}}),e)})))()},getSubCategories:function(){var t=this;return N(F().mark((function e(){return F().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.subCategories=[],e.next=3,axios.get("/api/categories/".concat(t.category)).then((function(e){var r=e.data;t.subCategories=r})).catch((function(e){var r=e.response.data;t.errors.push(r.errors)}));case 3:case"end":return e.stop()}}),e)})))()},filter:function(){this.getSubCategories(),this.getProducts()},filterSub:function(){this.getProducts()}}};const V=(0,r(744).Z)(T,[["render",function(t,e,r,q,F,M){var N=(0,s.up)("router-link");return(0,s.wg)(),(0,s.iD)("div",o,[(0,s._)("div",a,[(0,s._)("div",n,[(0,s._)("div",i,[(0,s._)("div",c,[u,(0,s._)("div",l,[(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[0]||(e[0]=function(e){return t.category=e}),onChange:e[1]||(e[1]=function(){return M.filter&&M.filter.apply(M,arguments)}),class:"my-3 form-select form-select-sm",required:"",autofocus:""},[d,g,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(t.categories,(function(t,e){return(0,s.wg)(),(0,s.iD)("option",{ke:e,value:t.id},(0,s.zw)(t.name),9,f)})),256))],544),[[s.bM,t.category]])]),(0,s._)("div",p,[(0,s.wy)((0,s._)("select",{"onUpdate:modelValue":e[2]||(e[2]=function(e){return t.subCategory=e}),onChange:e[3]||(e[3]=function(){return M.filterSub&&M.filterSub.apply(M,arguments)}),class:"my-3 form-select form-select-sm",required:"",autofocus:""},[m,v,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(t.subCategories,(function(t,e){return(0,s.wg)(),(0,s.iD)("option",{ke:e,value:t.id},(0,s.zw)(t.name),9,h)})),256))],544),[[s.bM,t.subCategory]])])]),(0,s._)("div",w,[t.processing?((0,s.wg)(),(0,s.iD)(s.HY,{key:0},[y],64)):((0,s.wg)(),(0,s.iD)(s.HY,{key:1},[t.products.length?((0,s.wg)(),(0,s.iD)("div",b,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(t.products,(function(t,e){return(0,s.wg)(),(0,s.iD)("div",{key:e,class:"col align-self-start"},[(0,s._)("div",k,[(0,s._)("a",_,[(0,s._)("img",{src:"/storage/".concat(t.image),alt:"Product",width:"180",height:"100"},null,8,C)]),(0,s._)("div",x,[(0,s._)("h3",D,[(0,s.Wm)(N,{to:{name:"products.show",params:{id:t.id}},class:"nav-link"},{default:(0,s.w5)((function(){return[(0,s.Uk)((0,s.zw)(t.name),1)]})),_:2},1032,["to"])]),(0,s._)("div",z,[P,(0,s.Uk)(" "+(0,s.zw)(t.slug),1)]),(0,s._)("div",U,[H,(0,s.Uk)(" "+(0,s.zw)(t.description?t.description:"No tiene"),1)]),(0,s._)("div",S,[Y,(0,s.Uk)(" "+(0,s.zw)(t.category.name),1)]),(0,s._)("div",K,"$"+(0,s.zw)(t.price),1)])])])})),128))])):((0,s.wg)(),(0,s.iD)(s.HY,{key:1},[j],64))],64))])])])])])}]])}}]);