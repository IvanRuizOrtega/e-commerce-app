"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[954],{954:(e,r,t)=>{t.r(r),t.d(r,{default:()=>I});var o=t(821),n={class:"container"},a={class:"row justify-content-center"},c={class:"col-12"},l={class:"card"},s={class:"card-header d-flex justify-content-between align-items-center"},u=(0,o.Uk)(" Crear producto "),i=(0,o.Uk)(" Volver "),d={class:"card-body"},p={key:0},f=(0,o._)("b",null,"Por favor, corrija el(los) siguiente(s) error(es):",-1),m={class:"form-group mb-3"},v=(0,o._)("label",{class:"col col-form-label text-md-end"}," Nombre ",-1),g={class:"col"},_={class:"form-group mb-3"},b=(0,o._)("label",{class:"col col-form-label text-md-end"}," Slug ",-1),h={class:"col"},y={class:"form-group mb-3"},w=(0,o._)("label",{class:"col col-form-label text-md-end"}," Descripcion ",-1),x={class:"col"},k={class:"form-group mb-3"},U=(0,o._)("label",{class:"col col-form-label text-md-end"}," Precio ",-1),C={class:"col"},D={class:"form-group mb-3"},q=(0,o._)("label",{class:"col col-form-label text-md-end"}," Categoria ",-1),P={class:"col"},V=(0,o._)("option",{value:"",selected:"",disabled:""},"Escoge una opci√≥n...",-1),j=["ke","value"],F={class:"form-group mb-3"},S=(0,o._)("label",{class:"col col-form-label text-md-end"}," Imagen ",-1),z={class:"col"},E=(0,o._)("div",{class:"row mb-0"},[(0,o._)("div",{class:"col-12"},[(0,o._)("button",{type:"submit",class:"btn btn-sm btn-outline-primary"}," Guardar ")])],-1);var H=t(757),K=t.n(H);function M(e,r,t,o,n,a,c){try{var l=e[a](c),s=l.value}catch(e){return void t(e)}l.done?r(s):Promise.resolve(s).then(o,n)}function Y(e){return function(){var r=this,t=arguments;return new Promise((function(o,n){var a=e.apply(r,t);function c(e){M(a,o,n,c,l,"next",e)}function l(e){M(a,o,n,c,l,"throw",e)}c(void 0)}))}}const G={name:"CreateProductComponent",data:function(){return{product:{name:"",slug:"",description:"",price:"",category:"",file:null},categories:[],errors:[]}},mounted:function(){this.getCategories()},methods:{getCategories:function(){var e=this;return Y(K().mark((function r(){return K().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,axios.get("/api/admin:categories").then((function(r){var t=r.data;e.categories=t})).catch((function(r){var t=r.response.data;e.errors=[],e.errors.push(t.errors)}));case 2:case"end":return r.stop()}}),r)})))()},create:function(){var e=this;return Y(K().mark((function r(){var t;return K().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return(t=new FormData).append("name",e.product.name),t.append("slug",e.product.slug),t.append("description",e.product.description),t.append("price",e.product.price),t.append("category",e.product.category),t.append("image",e.product.file),r.next=9,axios.post("/api/admin:products",t,{headers:{"content-type":"multipart/form-data"}}).then((function(){e.errors=[],alert("Exito")})).catch((function(r){var t=r.response.data;e.errors=[],e.errors.push(t.errors)}));case 9:case"end":return r.stop()}}),r)})))()},handleFileUpload:function(){this.product.file=this.$refs.file.files[0]}}};const I=(0,t(744).Z)(G,[["render",function(e,r,t,H,K,M){var Y=(0,o.up)("router-link");return(0,o.wg)(),(0,o.iD)("div",n,[(0,o._)("div",a,[(0,o._)("div",c,[(0,o._)("div",l,[(0,o._)("div",s,[u,(0,o.Wm)(Y,{to:{name:"admin.products"},class:"btn btn-sm btn-outline-success"},{default:(0,o.w5)((function(){return[i]})),_:1},8,["to"])]),(0,o._)("div",d,[(0,o._)("form",{method:"POST",action:"#",onSubmit:r[6]||(r[6]=(0,o.iM)((function(){return M.create&&M.create.apply(M,arguments)}),["prevent"])),enctype:"multipart/form-data"},[e.errors.length?((0,o.wg)(),(0,o.iD)("div",p,[f,(0,o._)("ul",null,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(e.errors,(function(e,r){return(0,o.wg)(),(0,o.iD)("li",{key:r},(0,o.zw)(e),1)})),128))])])):(0,o.kq)("",!0),(0,o._)("div",m,[v,(0,o._)("div",g,[(0,o.wy)((0,o._)("input",{"onUpdate:modelValue":r[0]||(r[0]=function(r){return e.product.name=r}),type:"text",class:"form-control",required:"",autofocus:""},null,512),[[o.nr,e.product.name]])])]),(0,o._)("div",_,[b,(0,o._)("div",h,[(0,o.wy)((0,o._)("input",{"onUpdate:modelValue":r[1]||(r[1]=function(r){return e.product.slug=r}),type:"text",class:"form-control",required:"",autofocus:""},null,512),[[o.nr,e.product.slug]])])]),(0,o._)("div",y,[w,(0,o._)("div",x,[(0,o.wy)((0,o._)("textarea",{"onUpdate:modelValue":r[2]||(r[2]=function(r){return e.product.description=r}),type:"text",class:"form-control"},null,512),[[o.nr,e.product.description]])])]),(0,o._)("div",k,[U,(0,o._)("div",C,[(0,o.wy)((0,o._)("input",{"onUpdate:modelValue":r[3]||(r[3]=function(r){return e.product.price=r}),type:"text",class:"form-control",required:"",autofocus:""},null,512),[[o.nr,e.product.price]])])]),(0,o._)("div",D,[q,(0,o._)("div",P,[(0,o.wy)((0,o._)("select",{"onUpdate:modelValue":r[4]||(r[4]=function(r){return e.product.category=r}),class:"form-control",required:"",autofocus:""},[V,((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(e.categories,(function(e,r){return(0,o.wg)(),(0,o.iD)("option",{ke:r,value:e.id},(0,o.zw)(e.name),9,j)})),256))],512),[[o.bM,e.product.category]])])]),(0,o._)("div",F,[S,(0,o._)("div",z,[(0,o._)("input",{onChange:r[5]||(r[5]=function(){return M.handleFileUpload&&M.handleFileUpload.apply(M,arguments)}),ref:"file",type:"file",accept:"image/jpeg",class:"form-control",required:"",autofocus:""},null,544)])]),E],32)])])])])])}]])}}]);