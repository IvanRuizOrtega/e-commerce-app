"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[22],{22:(r,t,e)=>{e.r(t),e.d(t,{default:()=>H});var n=e(821),o={class:"container"},c={class:"row justify-content-center"},a={class:"col-12"},i={class:"card"},s={class:"card-header d-flex justify-content-between align-items-center"},u=(0,n.Uk)(" Editar producto "),d=(0,n.Uk)(" Volver "),l={class:"card-body"},p=(0,n.Uk)(" Cargando... "),f={class:"display-6"},v={key:0},m=(0,n._)("b",null,"Por favor, corrija el(los) siguiente(s) error(es):",-1),g={class:"form-group mb-3"},h=(0,n._)("label",{class:"col col-form-label text-md-end"}," Precio ",-1),w={class:"col"},b={class:"form-group mb-3"},y=(0,n._)("label",{class:"col col-form-label text-md-end"}," Categoria ",-1),_={class:"col"},k=["ke","value"],x=(0,n._)("div",{class:"row mb-0"},[(0,n._)("div",{class:"col-12"},[(0,n._)("button",{type:"submit",class:"btn btn-sm btn-outline-primary"}," Actualizar ")])],-1);var D=e(757),P=e.n(D);function C(r,t,e,n,o,c,a){try{var i=r[c](a),s=i.value}catch(r){return void e(r)}i.done?t(s):Promise.resolve(s).then(n,o)}function U(r){return function(){var t=this,e=arguments;return new Promise((function(n,o){var c=r.apply(t,e);function a(r){C(c,n,o,a,i,"next",r)}function i(r){C(c,n,o,a,i,"throw",r)}a(void 0)}))}}const z={name:"EditProductComponent",data:function(){return{product:{id:"",price:"",category:""},processing:!0,categories:[],errors:[]}},mounted:function(){this.getCategories(),this.getProduct()},methods:{getCategories:function(){var r=this;return U(P().mark((function t(){return P().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,axios.get("/api/admin:categories").then((function(t){var e=t.data;r.categories=e})).catch((function(t){var e=t.response.data;r.errors=[],r.errors.push(e.errors)}));case 2:case"end":return t.stop()}}),t)})))()},getProduct:function(){var r=this;return U(P().mark((function t(){return P().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,axios.get("/api/admin:products/".concat(r.$route.params.id)).then((function(t){var e=t.data;r.product.id=e.id,r.product.price=e.price,r.product.category=e.category.id,r.processing=!1})).catch((function(r){var t=r.response.data;alert(t.errors)}));case 2:case"end":return t.stop()}}),t)})))()},update:function(){var r=this;return U(P().mark((function t(){return P().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,axios.put("/api/admin:products/".concat(r.product.id),r.product).then((function(){r.errors=[],alert("Exito")})).catch((function(t){var e=t.response.data;r.errors=[],r.errors.push(e.errors)}));case 2:case"end":return t.stop()}}),t)})))()}}};const H=(0,e(744).Z)(z,[["render",function(r,t,e,D,P,C){var U=(0,n.up)("router-link");return(0,n.wg)(),(0,n.iD)("div",o,[(0,n._)("div",c,[(0,n._)("div",a,[(0,n._)("div",i,[(0,n._)("div",s,[u,(0,n.Wm)(U,{to:{name:"admin.products"},class:"btn btn-sm btn-outline-success"},{default:(0,n.w5)((function(){return[d]})),_:1},8,["to"])]),(0,n._)("div",l,[r.processing?((0,n.wg)(),(0,n.iD)(n.HY,{key:0},[p],64)):((0,n.wg)(),(0,n.iD)(n.HY,{key:1},[(0,n._)("h1",f," ID "+(0,n.zw)(r.product.id),1),(0,n._)("form",{method:"POST",action:"#",onSubmit:t[2]||(t[2]=(0,n.iM)((function(){return C.update&&C.update.apply(C,arguments)}),["prevent"]))},[r.errors.length?((0,n.wg)(),(0,n.iD)("div",v,[m,(0,n._)("ul",null,[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(r.errors,(function(r,t){return(0,n.wg)(),(0,n.iD)("li",{key:t},(0,n.zw)(r),1)})),128))])])):(0,n.kq)("",!0),(0,n._)("div",g,[h,(0,n._)("div",w,[(0,n.wy)((0,n._)("input",{"onUpdate:modelValue":t[0]||(t[0]=function(t){return r.product.price=t}),type:"text",class:"form-control",required:"",autofocus:""},null,512),[[n.nr,r.product.price]])])]),(0,n._)("div",b,[y,(0,n._)("div",_,[(0,n.wy)((0,n._)("select",{"onUpdate:modelValue":t[1]||(t[1]=function(t){return r.product.category=t}),class:"form-control",required:"",autofocus:""},[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(r.categories,(function(r,t){return(0,n.wg)(),(0,n.iD)("option",{ke:t,value:r.id},(0,n.zw)(r.name),9,k)})),256))],512),[[n.bM,r.product.category]])])]),x],32)],64))])])])])])}]])}}]);